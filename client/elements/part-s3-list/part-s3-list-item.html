<link rel="import" href="/components/polymer/polymer.html">
<link rel="import" href="/components/api-s3-delete/api-s3-delete.html">
<dom-module id="part-s3-list-item">
  <style>
    :host {
      display: inline-block;
    }

    #image {
      display: inline-block;
    }

    #thumb {
      width: 300px;
      height: auto;
    }
  </style>
  <template>

    <api-s3-delete id="request" file_name="{{item.key}}"></api-s3-delete>

    <div id="image">
      <template is="dom-if" if="{{preview}}">
        <img id="thumb" src="{{item.url}}">
      </template>
      <ul>
        <li>name: <span>{{item.key}}</span></li>
        <li>modified: <span>{{item.lastmodified}}</span></li>
        <li>size: <span>{{item.size}}</span></li>
      </ul>
      <button id="delete" on-click="delete_image">delete</button>
    </div>

  </template>
</dom-module>
<script>
  Polymer({

    is: 'part-s3-list-item',

    properties: {
      item: {
        type: Object
      },
      preview: {
        type: Boolean,
        value: true
      }
    },

    delete_image: function () {
      this.$.request.send();
    }

  });
</script>
